import React, { Component } from 'react'
import {Route,Link,Switch,Redirect} from 'react-router-dom'
import All from './All';
import Good from './Good';
import Share from './Share';
import Ask from './Ask';
import Job from './Job';
import Client from './Client';
import Content from './Content';
export default class Home extends Component {
  constructor(){
    super();
    this.state={
      id:'',
      page:1
    }
  }
  change=(e)=>{
    let alist = document.querySelectorAll('.homeLink a');
    for(var i =0;i<alist.length;++i){
      alist[i].className='';
    }
    e.target.className='aactive';
  }
  setId(id){
    console.log(id);
    this.setState({
      id:id
    })
  }
  render() {
    let {url} = this.props.match;
    return (
      <div>
        <div className="homeLink">
          <Link onClick={this.change} to={`${url}/all`} className="aactive">全部</Link>
          <Link onClick={this.change} to={`${url}/good`}>精华</Link>
          <Link onClick={this.change} to={`${url}/share`}>分享</Link>
          <Link onClick={this.change} to={`${url}/ask`}>问答</Link>
          <Link onClick={this.change} to={`${url}/job`}>招聘</Link>
          <Link onClick={this.change} to={`${url}/client`}>客户端测试</Link>
        </div>
        <div>
          <Switch>
            <Route exact path={`${url}/all`} component={All}/>
            <Route exact path={`${url}/good`} component={Good}/>
            <Route exact path={`${url}/share`} component={Share}/>
            <Route exact path={`${url}/ask`} component={Ask}/>
            <Route exact path={`${url}/job`} component={Job}/>
            <Route exact path={`${url}/client`} component={Client}/>
            <Route path={`${url}/all/:page`} component={All}/>
            <Route path={`${url}/good/:page`} component={Good}/>
            <Route path={`${url}/share/:page`} component={Share}/>
            <Route path={`${url}/ask/:page`} component={Ask}/>
            <Route path={`${url}/job/:page`} component={Job}/>
            <Route path={`${url}/client/:page`} component={Client}/>
            <Route path={`${url}/content/:id`} component={Content}/>
            <Redirect to={`${url}/all`}/>
          </Switch>
        </div>
      </div>
    )
  }
}
