import React, { Component } from 'react'
import './todo.css'

export default class ToDoing extends Component {
	delItem(index, e) {
		this.props.del(index, e);
	}
	choice(index){
		console.log(index);
		this.props.choice(index);
	}
	change(e){
		if(e.target.checked){
			e.target.type = '';
		}else{
			e.target.type = 'checked';
		}
	}
	render() {
		var todo = this.props.todo;
		return (
			<div className="center center1">
				<ul className="unsuccess conmmen">
					<h3>正在进行:{this.props.num.wait}</h3>
					{
						todo.map((item, index) => {
							if (item.done === 'false') {
								return <li key={item.title}><input type="checkbox" onChange={this.change.bind(this)} onClick={this.choice.bind(this,index)}/>{item.title}<button onClick={this.delItem.bind(this, index)}>删除</button></li>
							}else{
								return ''
							}
						})
					}
					
				</ul>
				<ul className="success conmmen">
					<h3>已完成:{this.props.num.worked}</h3>
					{
						todo.map((item, index) => {
							if (item.done === 'true') {
								return <li key={index}><input type="checkbox" checked="checked" onChange={this.change.bind(this)} onClick={this.choice.bind(this,index)}/>{item.title}<button onClick={this.delItem.bind(this, index)}>删除</button></li>
							}else{
								return ''
							}
						})
					}
				</ul>
			
			</div>

		)
	}
}
